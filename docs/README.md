# RAG –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ –ü—Ä–æ–≥—Ä–∞–º–∏

–ö–æ–ª–µ–∫—Ü—ñ—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–Ω—ñ—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ RAG (Retrieval-Augmented Generation), —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –∑ Course.md.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É

```
rag_demos/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ corporate_docs/      # –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hr_policy.txt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ it_security.txt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sales_kpi.txt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ equipment_policy.txt
‚îÇ   ‚îî‚îÄ‚îÄ test_queries.json    # –¢–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏
‚îú‚îÄ‚îÄ utils/                    # –°–ø—ñ–ª—å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ data_loader.py
‚îú‚îÄ‚îÄ naive_rag/               # –ë–∞–∑–æ–≤–∞ RAG
‚îÇ   ‚îî‚îÄ‚îÄ naive_rag_demo.py
‚îú‚îÄ‚îÄ advanced_rag/            # –ü–æ–∫—Ä–∞—â–µ–Ω–∞ RAG
‚îÇ   ‚îî‚îÄ‚îÄ advanced_rag_demo.py
‚îú‚îÄ‚îÄ hybrid_rag/              # –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫
‚îÇ   ‚îî‚îÄ‚îÄ hybrid_rag_demo.py
‚îú‚îÄ‚îÄ corrective_rag/          # –°–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ corrective_rag_demo.py
‚îú‚îÄ‚îÄ results/                 # –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ logs/                    # –õ–æ–≥–∏
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
cd rag_demos
python -m pip install -r requirements.txt
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å–ø—Ä–æ—â–µ–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö API. –î–ª—è production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ `requirements.txt`.

### 2. –ó–∞–ø—É—Å–∫ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π

#### Naive RAG (–ë–∞–∑–æ–≤–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è)
```bash
python naive_rag/naive_rag_demo.py
```
- **–¢–æ—á–Ω—ñ—Å—Ç—å**: ~25% –Ω–∞ —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö
- **–¢–µ—Ö–Ω—ñ–∫–∏**: TF-IDF embeddings, –∫–æ—Å–∏–Ω—É—Å–Ω–∞ –ø–æ–¥—ñ–±–Ω—ñ—Å—Ç—å
- **–û–±–º–µ–∂–µ–Ω–Ω—è**: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –Ω–µ–º–∞—î –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

#### Advanced RAG (–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è)
```bash
python advanced_rag/advanced_rag_demo.py
```
- **–¢–æ—á–Ω—ñ—Å—Ç—å**: –¥–æ 90% –Ω–∞ —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö
- **–¢–µ—Ö–Ω—ñ–∫–∏**:
  - Query Rewriting (–ø–µ—Ä–µ–ø–∏—Å—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤)
  - HyDE (–≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏)
  - Hybrid Search (BM25 + –≤–µ–∫—Ç–æ—Ä–Ω–∏–π)
  - Re-ranking (–ø–µ—Ä–µ—Ä–∞–Ω–≥—É–≤–∞–Ω–Ω—è)
  - Context Enrichment (–∑–±–∞–≥–∞—á–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

#### Hybrid RAG (–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ü–æ—à—É–∫)
```bash
python hybrid_rag/hybrid_rag_demo.py
```
- **–¢–µ—Ö–Ω—ñ–∫–∏**:
  - Dense Search (–≤–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫)
  - Sparse Search (BM25)
  - RRF (Reciprocal Rank Fusion)
  - Convex Combination –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º Œ±
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó**:
  - –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏: Œ±=0.3
  - –ó–º—ñ—à–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç: Œ±=0.5
  - –ü—Ä–∏—Ä–æ–¥–Ω–∞ –º–æ–≤–∞: Œ±=0.7

#### Corrective RAG (–°–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞)
```bash
python corrective_rag/corrective_rag_demo.py
```
- **–¢–µ—Ö–Ω—ñ–∫–∏**:
  - –û—Ü—ñ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è (generate/web_search/rewrite)
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–∞–ª—é—Ü–∏–Ω–∞—Ü—ñ–π
  - –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
  - –Ü—Ç–µ—Ä–∞—Ç–∏–≤–Ω–µ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è (–¥–æ 3 —ñ—Ç–µ—Ä–∞—Ü—ñ–π)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `results/` —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON:

- `naive_rag_results.json`
- `advanced_rag_results.json`
- `hybrid_rag_*_results.json`
- `corrective_rag_results.json`

–ö–æ–∂–µ–Ω —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å:
- –ó–∞–ø–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- –î–∂–µ—Ä–µ–ª–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
- Scores —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ

## üî¨ –¢–µ—Å—Ç–æ–≤—ñ –î–∞–Ω—ñ

### –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ –î–æ–∫—É–º–µ–Ω—Ç–∏
–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞—î 4 –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
1. **HR Policy** - –ø–æ–ª—ñ—Ç–∏–∫–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º (–≤—ñ–¥–ø—É—Å—Ç–∫–∏, —Ä–æ–±–æ—á–∏–π —á–∞—Å, –Ω–∞–≤—á–∞–Ω–Ω—è)
2. **IT Security** - –ø–æ–ª—ñ—Ç–∏–∫–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—ó –±–µ–∑–ø–µ–∫–∏ (–∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∞, –¥–æ—Å—Ç—É–ø, —ñ–Ω—Ü–∏–¥–µ–Ω—Ç–∏)
3. **Sales KPI** - –ø–æ–∫–∞–∑–Ω–∏–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤—ñ–¥–¥—ñ–ª—É –ø—Ä–æ–¥–∞–∂—ñ–≤ (Q3 2024)
4. **Equipment Policy** - –ø–æ–ª—ñ—Ç–∏–∫–∞ –Ω–∞–¥–∞–Ω–Ω—è –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è (–ø—Ä–æ—Ü–µ–¥—É—Ä–∏, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞)

### –¢–µ—Å—Ç–æ–≤—ñ –ó–∞–ø–∏—Ç–∏
–§–∞–π–ª `data/test_queries.json` –º—ñ—Å—Ç–∏—Ç—å 4 –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤:
- **simple_queries**: –ü—Ä–æ—Å—Ç—ñ —Ñ–∞–∫—Ç–∏ (3 –∑–∞–ø–∏—Ç–∏)
- **medium_queries**: –ó–∞–ø–∏—Ç–∏ —Å–µ—Ä–µ–¥–Ω—å–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (3 –∑–∞–ø–∏—Ç–∏)
- **complex_queries**: –°–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏ –∑ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º–∏ (3 –∑–∞–ø–∏—Ç–∏)
- **multi_hop_queries**: Multi-hop –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è (2 –∑–∞–ø–∏—Ç–∏)

## üìö RAG Test Datasets (–î–ª—è –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è)

### Financial Datasets
1. **ConvFinQA** (Chen et al., 2022)
   - 3,892 —Ä–æ–∑–º–æ–≤–∏ –∑ —á–∏—Å–ª–æ–≤–∏–º –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è–º
   - –°–∫–ª–∞–¥–Ω—ñ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏

2. **TAT-QA** (Zhu et al., 2021)
   - 16,552 –∑–∞–ø–∏—Ç–∏ –∑ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤
   - 2,757 –≥—ñ–±—Ä–∏–¥–Ω–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤
   - –î–∂–µ—Ä–µ–ª–æ: annualreports.com (2019-2020)

3. **FinanceBench** (Islam et al., 2023)
   - 10,231 –∑–∞–ø–∏—Ç–∏ –ø—Ä–æ –ø—É–±–ª—ñ—á–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó
   - 40 –∫–æ–º–ø–∞–Ω—ñ–π –°–®–ê
   - 361 –∑–≤—ñ—Ç (10Ks, 10Qs, 8Ks)
   - GitHub: 150 triplets –ø—É–±–ª—ñ—á–Ω–æ, 360 PDF
   - –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø: contact@patronus.ai

### Medical Dataset
4. **BioASQ Challenge** (Tsatsaronis et al., 2015)
   - –ë—ñ–æ–º–µ–¥–∏—á–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∞ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è
   - 4,720 –ø—Ä–∏–∫–ª–∞–¥—ñ–≤
   - 40,200 –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ñ–≤
   - –î–æ—Å—Ç—É–ø: HuggingFace subset

### Multi-domain Dataset
5. **ToolQA** (Zhuang et al., 2023)
   - 8 –¥–æ–º–µ–Ω—ñ–≤
   - 13 —Ç–∏–ø—ñ–≤ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
   - –¢–∞–±–ª–∏—á–Ω—ñ, –≥—Ä–∞—Ñ–æ–≤—ñ, —Ç–µ–∫—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
   - –§–æ–∫—É—Å –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö

### Synthetic Dataset
6. **RepLiQA** (Monteiro et al., 2024)
   - 5 —Ç–µ—Å—Ç–æ–≤–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤
   - –®—Ç—É—á–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó (–±–µ–∑ –≤–∏—Ç–æ–∫—É –¥–∞–Ω–∏—Ö)
   - –õ—é–¥—Å—å–∫—ñ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏

### –ö–æ–ª–µ–∫—Ü—ñ—ó
7. **Hugging Face: rag-datasets**
   - –ó–±—ñ—Ä–∫–∞ RAG —Ç–µ—Å—Ç–æ–≤–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤

## üõ†Ô∏è Dataset Generation Frameworks

### 1. RAGEval (Zhu et al., 2024)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞—Ç–∞—Å–µ—Ç—ñ–≤
- –ú–µ—Ç—Ä–∏–∫–∏: Completeness, Hallucination, Irrelevance
- ‚ö†Ô∏è –ö–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π

### 2. Giskard (Open-source Python)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è 6 —Ç–∏–ø—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤:
  - Complex questions
  - Conversational questions
  - Distracting questions
  - Double questions
  - Simple questions
  - Situational questions
- –í—Ö—ñ–¥: DataFrame –∑ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞–º–∏
- –û—Ü—ñ–Ω–∫–∞: Performance, bias, security

### 3. RAGAS
- LLM-based framework
- –°–∏–Ω—Ç–µ—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞—Ç–∞—Å–µ—Ç—ñ–≤
- –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü—ñ–Ω–∫–∏:
  - Faithfulness (>0.90)
  - Answer Relevancy (>0.85)
  - Context Precision (>0.85)
  - Context Recall (>0.85)

## üéØ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ü—ñ–¥—Ö–æ–¥—ñ–≤

| –ü—ñ–¥—Ö—ñ–¥ | –¢–æ—á–Ω—ñ—Å—Ç—å | –ß–∞—Å | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å | –í–∏–ø–∞–¥–∫–∏ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
|--------|----------|-----|------------|---------------------|
| **Naive RAG** | ~25% | –®–≤–∏–¥–∫–æ | –ù–∏–∑—å–∫–∞ | –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏, –ø—Ä–æ—Å—Ç—ñ –∑–∞–¥–∞—á—ñ |
| **Advanced RAG** | ~90% | –°–µ—Ä–µ–¥–Ω—å–æ | –í–∏—Å–æ–∫–∞ | Production, —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏ |
| **Hybrid RAG** | ~85% | –°–µ—Ä–µ–¥–Ω—å–æ | –°–µ—Ä–µ–¥–Ω—è | –¢–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è |
| **Corrective RAG** | ~90%+ | –ü–æ–≤—ñ–ª—å–Ω–æ | –í–∏—Å–æ–∫–∞ | –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å–∏—Å—Ç–µ–º–∏, –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è –ü–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤
1. –ü–æ—á–Ω—ñ—Ç—å –∑ Naive RAG –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –æ—Å–Ω–æ–≤
2. –î–æ–¥–∞–π—Ç–µ Hybrid Search - –Ω–∞–π–±—ñ–ª—å—à–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç —è–∫–æ—Å—Ç—ñ
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ RAGAS –¥–ª—è –æ—Ü—ñ–Ω–∫–∏

### –î–ª—è Production
1. Advanced RAG –∑ re-ranking –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π
2. Corrective RAG –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ (Phoenix/Langsmith)
4. A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ü–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- **Œ± –¥–ª—è Hybrid Search**:
  - 0.3: —Ç–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (—Ç–æ—á–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∏)
  - 0.5: –∑–º—ñ—à–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (–±–∞–ª–∞–Ω—Å)
  - 0.7: –ø—Ä–∏—Ä–æ–¥–Ω–∞ –º–æ–≤–∞ (—Å–µ–º–∞–Ω—Ç–∏–∫–∞)

- **Chunk Size**:
  - 300-500: –∫–æ—Ä–æ—Ç–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  - 500-800: –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ
  - 800-1200: –¥–æ–≤–≥–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

- **Top-k**:
  - 3-5: —à–≤–∏–¥–∫—ñ—Å—Ç—å
  - 5-10: —è–∫—ñ—Å—Ç—å
  - 10-20: –ø–æ–≤–Ω–æ—Ç–∞ (–∑ re-ranking)

## üîß –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –†–µ–∞–ª—å–Ω–∏—Ö Embeddings
–†–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –≤ requirements.txt:
```python
# sentence-transformers
# chromadb
```

–ó–∞–º—ñ–Ω—ñ—Ç—å SimpleEmbeddings –Ω–∞:
```python
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('all-MiniLM-L6-v2')
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è LLM –ì–µ–Ω–µ—Ä–∞—Ü—ñ—ó
```python
from langchain.llms import OpenAI
llm = OpenAI(temperature=0)
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –í–µ–∫—Ç–æ—Ä–Ω–∏—Ö –ë–î
```python
from chromadb import Client
client = Client()
collection = client.create_collection("rag_docs")
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –£—Å–ø—ñ—Ö—É

### –¶—ñ–ª—å–æ–≤—ñ –ü–æ–∫–∞–∑–Ω–∏–∫–∏
- **Faithfulness**: >0.90 (—Ñ–∞–∫—Ç–∏—á–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å)
- **Answer Relevancy**: >0.85 (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å)
- **Context Precision**: >0.85 (—Ç–æ—á–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)
- **Context Recall**: >0.85 (–ø–æ–≤–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)
- **Latency**: <3 —Å–µ–∫—É–Ω–¥–∏
- **Cost**: <$0.001 –∑–∞ –∑–∞–ø–∏—Ç

## ü§ù Contribution

–î–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤:
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `{approach}_rag/`
2. –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–π—Ç–µ `{approach}_rag_demo.py`
3. –î–æ–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –≤ `data/test_queries.json`
4. –û–Ω–æ–≤—ñ—Ç—å README.md

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è —Ç–∞ –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤.

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- **Course.md**: –ü–æ–≤–Ω–∏–π —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª
- **CLAUDE.md**: –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è Claude Code
- **RAG Paper**: [Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks](https://arxiv.org/abs/2005.11401)
- **RAGAS**: https://github.com/explodinggradients/ragas
- **Giskard**: https://github.com/Giskard-AI/giskard
- **HuggingFace rag-datasets**: https://huggingface.co/collections/rag-datasets

## ‚ö†Ô∏è –ü—Ä–∏–º—ñ—Ç–∫–∏

1. **–°–ø—Ä–æ—â–µ–Ω—ñ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó**: –¶—ñ –¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å TF-IDF –∑–∞–º—ñ—Å—Ç—å –Ω–µ–π—Ä–æ–Ω–Ω–∏—Ö embeddings –¥–ª—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö API
2. **–ë–µ–∑ LLM**: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Å–ø—Ä–æ—â–µ–Ω–∞ (–ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏)
3. **Production**: –î–ª—è production –¥–æ–¥–∞–π—Ç–µ real embeddings, LLM, —Ç–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ñ –ë–î
4. **–¢–µ—Å—Ç–æ–≤—ñ –î–∞–Ω—ñ**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–ª–∞—Å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç–∏ –≤–∏—â–µ

## üéì –ù–∞–≤—á–∞–ª—å–Ω—ñ –¶—ñ–ª—ñ

–ü—ñ—Å–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ü–∏–º–∏ –¥–µ–º–æ –≤–∏ –∑—Ä–æ–∑—É–º—ñ—î—Ç–µ:
- ‚úÖ –ë–∞–∑–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ RAG
- ‚úÖ –†—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –ø—ñ–¥—Ö–æ–¥–∞–º–∏
- ‚úÖ Query rewriting —Ç–∞ HyDE
- ‚úÖ –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫ (dense + sparse)
- ‚úÖ Re-ranking —Ç–∞ context enrichment
- ‚úÖ –°–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∞ —ñ—Ç–µ—Ä–∞—Ç–∏–≤–Ω–µ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü—ñ–Ω–∫–∏ RAG —Å–∏—Å—Ç–µ–º

–£—Å–ø—ñ—Ö—ñ–≤ —É –≤–∏–≤—á–µ–Ω–Ω—ñ RAG! üöÄ
