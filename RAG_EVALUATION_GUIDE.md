# –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π RAG Evaluation —á–µ—Ä–µ–∑ RAGAS
## ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥: –°–∏–Ω—Ç–µ—Ç–∏—á–Ω—ñ –¥–∞—Ç–∞—Å–µ—Ç–∏

RAGAS –º–æ–∂–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ 50-200+ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–µ–π—Å—ñ–≤** –∑ –≤–∞—à–∏—Ö PDF –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.

### –¢–∏–ø–∏ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤:

1. **Simple** (40%) - –ø—Ä–æ—Å—Ç—ñ —Ñ–∞–∫—Ç–∏—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è
   - "–©–æ —Ç–∞–∫–µ RAG?"
   - "–Ø–∫—ñ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ RAG —Å–∏—Å—Ç–µ–º–∏?"

2. **Reasoning** (30%) - –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ä–æ–∑–¥—É–º—ñ–≤
   - "–ß–æ–º—É Self-RAG –∫—Ä–∞—â–µ –Ω—ñ–∂ Naive RAG?"
   - "–Ø–∫ –≤–∏–±—Ä–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π chunk size?"

3. **Multi-context** (30%) - –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∫—ñ–ª—å–∫–æ—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
   - "–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –ø—ñ–¥—Ö–æ–¥–∏ BM25 —Ç–∞ FAISS –¥–ª—è retrieval"
   - "–Ø–∫ —Ä—ñ–∑–Ω—ñ RAG –ø—ñ–¥—Ö–æ–¥–∏ –≤–∏—Ä—ñ—à—É—é—Ç—å –ø—Ä–æ–±–ª–µ–º—É Lost in the Middle?"

---

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install ragas langchain-openai langchain-community pypdf datasets
```

**–í–∞–∂–ª–∏–≤–æ:** –ü–æ—Ç—Ä—ñ–±–µ–Ω OpenAI API key (RAGAS –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î GPT-4o-mini):

```bash
export OPENAI_API_KEY="your-key-here"
```

### –ö—Ä–æ–∫ 2: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç—É

```bash
cd rag_demos
python generate_synthetic_testset.py
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å—ñ PDF –∑ `data/pdfs/`
- –ì–µ–Ω–µ—Ä—É—î 50 —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–µ–π—Å—ñ–≤ (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —á–µ—Ä–µ–∑ `TEST_SIZE`)
- –ó–±–µ—Ä—ñ–≥–∞—î –≤ `data/synthetic_testset.json`

**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 3-5 —Ö–≤–∏–ª–∏–Ω –¥–ª—è 50 –∑–∞–ø–∏—Ç—ñ–≤

**–í–∞—Ä—Ç—ñ—Å—Ç—å:** ~$0.10-0.20 (GPT-4o-mini –¥–µ—à–µ–≤–∏–π)

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:**

```
üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ data/pdfs...
‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: 91 —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ PDF

üß™ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è 50 —Ç–µ—Å—Ç–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤...
   –¶–µ –∑–∞–π–º–µ 3-5 —Ö–≤–∏–ª–∏–Ω –¥–ª—è 50 –∑–∞–ø–∏—Ç—ñ–≤

üìä –†–æ–∑–ø–æ–¥—ñ–ª —Ç–∏–ø—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤:
   Simple (—Ñ–∞–∫—Ç–∏):          40%
   Reasoning (—Ä–æ–∑–¥—É–º–∏):     30%
   Multi-context (—Å–∫–ª–∞–¥–Ω—ñ): 30%

‚úÖ –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ: 50 —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–µ–π—Å—ñ–≤ –∑–∞ 234.5—Å

üìù –ü–†–ò–ö–õ–ê–î–ò –ó–ì–ï–ù–ï–†–û–í–ê–ù–ò–• –¢–ï–°–¢–û–í–ò–• –ö–ï–ô–°–Ü–í:

–ö–µ–π—Å #1
–¢–∏–ø: simple
–ó–∞–ø–∏—Ç: What is the main purpose of Retrieval-Augmented Generation?
Ground Truth: RAG combines information retrieval with text generation to provide...
–ö–æ–Ω—Ç–µ–∫—Å—Ç–∏: 3 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

–ö–µ–π—Å #2
–¢–∏–ø: reasoning
–ó–∞–ø–∏—Ç: Why does Self-RAG perform better than standard RAG on complex queries?
Ground Truth: Self-RAG uses adaptive retrieval and self-critique mechanisms...
–ö–æ–Ω—Ç–µ–∫—Å—Ç–∏: 5 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
```

### –ö—Ä–æ–∫ 3: Evaluation RAG —Å–∏—Å—Ç–µ–º–∏

```bash
python evaluate_with_synthetic_testset.py
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –¥–∞—Ç–∞—Å–µ—Ç
- –ó–∞–ø—É—Å–∫–∞—î RAG —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≤—Å—ñ—Ö 50 –∑–∞–ø–∏—Ç–∞—Ö
- –û—Ü—ñ–Ω—é—î —á–µ—Ä–µ–∑ **4 RAGAS –º–µ—Ç—Ä–∏–∫–∏**:
  - **Faithfulness** (0-1) - —á–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ?
  - **Answer Relevancy** (0-1) - —á–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å?
  - **Context Precision** (0-1) - —á–∏ —Ç–æ—á–Ω–∏–π retrieved –∫–æ–Ω—Ç–µ–∫—Å—Ç?
  - **Context Recall** (0-1) - —á–∏ –ø–æ–≤–Ω–∏–π retrieved –∫–æ–Ω—Ç–µ–∫—Å—Ç?

**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 5-10 —Ö–≤–∏–ª–∏–Ω –¥–ª—è 50 –∑–∞–ø–∏—Ç—ñ–≤

**–í–∞—Ä—Ç—ñ—Å—Ç—å:** ~$0.50-1.00 (evaluation —á–µ—Ä–µ–∑ GPT-4o-mini)

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:**

```
üöÄ –ó–∞–ø—É—Å–∫ RAG —Å–∏—Å—Ç–µ–º–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º—É –¥–∞—Ç–∞—Å–µ—Ç—ñ...
   –û–±—Ä–æ–±–∫–∞ 50 –∑–∞–ø–∏—Ç—ñ–≤...
   –¶–µ –∑–∞–π–º–µ ~2.5 —Ö–≤–∏–ª–∏–Ω

   –ü—Ä–æ–≥—Ä–µ—Å: 10/50 (20.0%) - –ó–∞–ª–∏—à–∏–ª–æ—Å—å ~2.0 —Ö–≤
   –ü—Ä–æ–≥—Ä–µ—Å: 20/50 (40.0%) - –ó–∞–ª–∏—à–∏–ª–æ—Å—å ~1.5 —Ö–≤
   ...

‚úÖ –û–±—Ä–æ–±–ª–µ–Ω–æ: 50 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 2.8 —Ö–≤
   –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –Ω–∞ –∑–∞–ø–∏—Ç: 3.36—Å

üìä RAGAS Evaluation...
‚úÖ –ü—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ 50 –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è evaluation

‚úÖ Evaluation –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ 4.2 —Ö–≤

======================================================================
üìä RAGAS –ú–ï–¢–†–ò–ö–ò
======================================================================
Faithfulness:        0.923  ‚úÖ (target > 0.90)
Answer Relevancy:    0.867  ‚úÖ (target > 0.85)
Context Precision:   0.845  ‚úÖ (target > 0.80)
Context Recall:      0.812  ‚úÖ (target > 0.80)
----------------------------------------------------------------------
Average Score:       0.862
======================================================================

‚úÖ EVALUATION –ó–ê–í–ï–†–®–ï–ù–û!

üéâ –í–Ü–î–ú–Ü–ù–ù–û! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è production
```

---

##  RAGAS Metrics - –©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å?

### 1. Faithfulness (–í—ñ—Ä–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

**–©–æ –≤–∏–º—ñ—Ä—é—î:** **–ß–∏ –±–∞–∑—É—î—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –Ω–∞–¥–∞–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ? –í–∏—è–≤–ª—è—î –≥–∞–ª—é—Ü–∏–Ω–∞—Ü—ñ—ó.**

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- LLM —Ä–æ–∑–±–∏–≤–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (statements)
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ–∂–Ω–µ —Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —á–∏ –≤–æ–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç—å—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- Score = –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö / –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å

**Production target:** > 0.90 (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Question: "What is RAG?"
Context: "RAG combines retrieval with generation"
Answer: "RAG is a method that combines retrieval with generation and was invented in 2025"

Faithfulness: 0.50 (50%)
- ‚úÖ "RAG combines retrieval with generation" - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ
- ‚ùå "invented in 2025" - –ù–ï –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ (–≥–∞–ª—é—Ü–∏–Ω–∞—Ü—ñ—è!)
```

### 2. Answer Relevancy (–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)

**–©–æ –≤–∏–º—ñ—Ä—é—î:** **–ß–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∞ –∑–∞–ø–∏—Ç—É?**

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- –ì–µ–Ω–µ—Ä—É—î –∑–≤–æ—Ä–æ—Ç–Ω—ñ –∑–∞–ø–∏—Ç–∏ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ü–æ—Ä—ñ–≤–Ω—é—î —ó—Ö –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º —á–µ—Ä–µ–∑ cosine similarity
- –í–∏—Å–æ–∫–∏–π score = –≤—ñ–¥–ø–æ–≤—ñ–¥—å –ø—Ä—è–º–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –∑–∞–ø–∏—Ç—É

**Production target:** > 0.85

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Question: "What is Self-RAG?"
Answer: "Self-RAG is an advanced approach that uses adaptive retrieval"

Relevancy: 0.95 (–≤—ñ–¥–º—ñ–Ω–Ω–æ!)

Question: "What is Self-RAG?"
Answer: "RAG systems are useful for QA tasks"

Relevancy: 0.40 (–ø–æ–≥–∞–Ω–æ - –∑–∞–≥–∞–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å)
```

### 3. Context Precision (–¢–æ—á–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

**–©–æ –≤–∏–º—ñ—Ä—é—î:** –ß–∏ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–∏ –¥—ñ–π—Å–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ?

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ–∂–µ–Ω retrieved chunk —á–∏ –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –†–∞–Ω–∂—É—î chunks –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
- –ö–∞—Ä–∞—î –∑–∞ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ chunks —É —Ç–æ–ø—ñ

**Production target:** > 0.80

**–ù–∏–∑—å–∫–∏–π score ‚Üí –±–∞–≥–∞—Ç–æ "—à—É–º—É" –≤ retrieved –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ**

### 4. Context Recall (–ü–æ–≤–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

**–©–æ –≤–∏–º—ñ—Ä—é—î:** –ß–∏ –∑–Ω–∞–π—à–ª–∏ –í–°–Ü –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏?

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- –ü–æ—Ä—ñ–≤–Ω—é—î retrieved –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ ground truth
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –≤—Å—ñ —Ñ–∞–∫—Ç–∏ –∑ ground truth —î –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ

**Production target:** > 0.80

**–ù–∏–∑—å–∫–∏–π score ‚Üí missed relevant documents (—Ç—Ä–µ–±–∞ –±—ñ–ª—å—à–µ top_k)**

---

##  –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

###  –í—ñ–¥–º—ñ–Ω–Ω–æ (Average > 0.85)
```
Faithfulness:      0.92
Answer Relevancy:  0.88
Context Precision: 0.84
Context Recall:    0.81
‚Üí –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è production!
```

###  –ü—Ä–∏–π–Ω—è—Ç–Ω–æ (Average 0.70-0.85)
```
Faithfulness:      0.78
Answer Relevancy:  0.82
Context Precision: 0.71
Context Recall:    0.73
‚Üí –ü–æ—Ç—Ä—ñ–±–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ production
```

###  –ö—Ä–∏—Ç–∏—á–Ω–æ (Average < 0.70)
```
Faithfulness:      0.65
Answer Relevancy:  0.58
Context Precision: 0.62
Context Recall:    0.55
‚Üí –°–µ—Ä–π–æ–∑–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞!
```

---

##  –Ø–∫ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏?

### Faithfulness –Ω–∏–∑—å–∫–∏–π (< 0.90)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–∞–ª—é—Ü–∏–Ω–∞—Ü—ñ—ó

**–†—ñ—à–µ–Ω–Ω—è:**
- –î–æ–¥–∞—Ç–∏ re-ranking –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–∏–∑—å–∫–æ-—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ chunks
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ stronger LLM (GPT-4 –∑–∞–º—ñ—Å—Ç—å GPT-3.5)
- –î–æ–¥–∞—Ç–∏ prompt "Answer ONLY based on context"

### Answer Relevancy –Ω–∏–∑—å–∫–∏–π (< 0.85)
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–µ –ø–æ —Ç–µ–º—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–æ–∫—Ä–∞—â–∏—Ç–∏ LLM prompt
- –î–æ–¥–∞—Ç–∏ query rewriting
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ few-shot examples

### Context Precision –Ω–∏–∑—å–∫–∏–π (< 0.80)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∞–≥–∞—Ç–æ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö documents –≤ retrieved

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–æ–∫—Ä–∞—â–∏—Ç–∏ embeddings (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ better model)
- –î–æ–¥–∞—Ç–∏ hybrid search (BM25 + vectors)
- –î–æ–¥–∞—Ç–∏ re-ranking stage
- –ó–º–µ–Ω—à–∏—Ç–∏ top_k

### Context Recall –Ω–∏–∑—å–∫–∏–π (< 0.80)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ relevant documents

**–†—ñ—à–µ–Ω–Ω—è:**
- –ó–±—ñ–ª—å—à–∏—Ç–∏ top_k
- –ü–æ–∫—Ä–∞—â–∏—Ç–∏ chunking strategy (–º–µ–Ω—à–∏–π chunk_size)
- –î–æ–¥–∞—Ç–∏ multi-query retrieval
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ parent document retrieval

---

##  –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

–ü—ñ—Å–ª—è evaluation –º–æ–∂–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Ä—ñ–∑–Ω—ñ RAG –ø—ñ–¥—Ö–æ–¥–∏:

```bash
# –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–∞—Ç–∞—Å–µ—Ç (1 —Ä–∞–∑)
python generate_synthetic_testset.py

# Evaluation —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤
python evaluate_rag_approach.py --approach naive
python evaluate_rag_approach.py --approach advanced
python evaluate_rag_approach.py --approach corrective

# –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è
python compare_all_approaches.py
```

**–¢–∏–ø–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**

| –ü—ñ–¥—Ö—ñ–¥ | Faithfulness | Relevancy | Precision | Recall | Average |
|--------|--------------|-----------|-----------|--------|---------|
| **Corrective RAG** | 0.93 | 0.88 | 0.86 | 0.84 | **0.88** ‚úÖ |
| **Advanced RAG** | 0.92 | 0.87 | 0.84 | 0.82 | **0.86** ‚úÖ |
| **Hybrid RAG** | 0.88 | 0.83 | 0.81 | 0.78 | **0.82** ‚ö†Ô∏è |
| **Naive RAG** | 0.68 | 0.65 | 0.62 | 0.58 | **0.63** ‚ùå |

---

##  –í–∞—Ä—Ç—ñ—Å—Ç—å

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞—Ç–∞—Å–µ—Ç—É (1 —Ä–∞–∑):
- 50 –∑–∞–ø–∏—Ç—ñ–≤: ~$0.10-0.20
- 100 –∑–∞–ø–∏—Ç—ñ–≤: ~$0.20-0.40

### Evaluation:
- 50 –∑–∞–ø–∏—Ç—ñ–≤: ~$0.50-1.00
- 100 –∑–∞–ø–∏—Ç—ñ–≤: ~$1.00-2.00

**–í—Å—å–æ–≥–æ –¥–ª—è 50 —Ç–µ—Å—Ç—ñ–≤:** ~$0.60-1.20

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –∑ –≤–∞—Ä—Ç—ñ—Å—Ç—é 1 –≥–æ–¥–∏–Ω–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ ($50+) - —Ü–µ **pennies** –¥–ª—è —è–∫—ñ—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è!

---

##  Production Checklist

–ü–µ—Ä–µ–¥ deploy RAG —Å–∏—Å—Ç–µ–º–∏ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å:

- [ ] Faithfulness > 0.90 (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –¥–æ–≤—ñ—Ä–∏)
- [ ] Answer Relevancy > 0.85
- [ ] Context Precision > 0.80
- [ ] Context Recall > 0.80
- [ ] –¢–µ—Å—Ç–æ–≤–∏–π –¥–∞—Ç–∞—Å–µ—Ç > 50 –∑–∞–ø–∏—Ç—ñ–≤
- [ ] –ü–æ–∫—Ä–∏—Ç—Ç—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤ (simple/reasoning/multi-context)
- [ ] Evaluation –Ω–∞ production-like –¥–∞–Ω–∏—Ö

---

##  –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [RAGAS Documentation](https://docs.ragas.io/)
- [RAGAS Paper](https://arxiv.org/abs/2309.15217)
- [LangChain + RAGAS Guide](https://python.langchain.com/docs/guides/evaluation/ragas)
- [RAG Evaluation Best Practices](https://www.rungalileo.io/blog/mastering-rag-how-to-evaluate-retrieval-augmented-generation-systems)

---

##  FAQ

**Q: –ß–æ–º—É –Ω–µ –º–æ–∂–Ω–∞ –±–µ–∑ RAGAS?**
A: RAGAS –¥–∞—î –æ–±'—î–∫—Ç–∏–≤–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ + –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ç–µ—Å—Ç—ñ–≤.

**Q: –ß–æ–º—É –ø–æ—Ç—Ä—ñ–±–µ–Ω OpenAI API key?**
A: RAGAS –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î LLM –¥–ª—è evaluation. –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω—à—ñ LLM, –∞–ª–µ OpenAI –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ.

**Q: –°–∫—ñ–ª—å–∫–∏ —Ç–µ—Å—Ç—ñ–≤ –ø–æ—Ç—Ä—ñ–±–Ω–æ?**
A: –ú—ñ–Ω—ñ–º—É–º 50 –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –≤–∏—Å–Ω–æ–≤–∫—É. 100-200 –¥–ª—è production. 500+ –¥–ª—è enterprise.

**Q: –ß–∏ –º–æ–∂–Ω–∞ evaluation –ª–æ–∫–∞–ª—å–Ω–æ (Ollama)?**
A: –¢–∞–∫, –∞–ª–µ RAGAS –∫—Ä–∞—â–µ –ø—Ä–∞—Ü—é—î –∑ GPT-4/GPT-3.5. Ollama –º–æ–∂–µ –¥–∞–≤–∞—Ç–∏ –º–µ–Ω—à —Ç–æ—á–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏.

**Q: –Ø–∫ —á–∞—Å—Ç–æ —Ä–æ–±–∏—Ç–∏ evaluation?**
A: –ü—Ä–∏ –∫–æ–∂–Ω—ñ–π –∑–Ω–∞—á–Ω—ñ–π –∑–º—ñ–Ω—ñ RAG —Å–∏—Å—Ç–µ–º–∏ (chunking, embeddings, LLM, —Ç–æ—â–æ).

