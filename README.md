# Module 2: RAG Systems Comparison

**–ö—É—Ä—Å:** AI.Agents.PRO 2025  
**–ú–æ–¥—É–ª—å:** 2 - Retrieval-Augmented Generation  
**–ê–≤—Ç–æ—Ä:** –û–ª–µ–∫—Å–∞–Ω–¥—Ä –î–µ–Ω–∏—Å—é–∫  
**–î–∞—Ç–∞:** –ñ–æ–≤—Ç–µ–Ω—å 2025

## –û–≥–ª—è–¥ –ø—Ä–æ–µ–∫—Ç—É

–¶–µ–π –º–æ–¥—É–ª—å –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è **6 —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ RAG** (Retrieval-Augmented Generation) —Å–∏—Å—Ç–µ–º, –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏—Ö –Ω–∞ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–º—É –¥–∞—Ç–∞—Å–µ—Ç—ñ –∑ 50 –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤. –í—Å—ñ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ –¥–æ –∑–∞–ø—É—Å–∫—É, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∂–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

### üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó RAG –ø—ñ–¥—Ö–æ–¥—ñ–≤

```
‚îú‚îÄ‚îÄ naive_rag/               # –ë–∞–∑–æ–≤–∏–π RAG
‚îÇ   ‚îî‚îÄ‚îÄ naive_rag_demo.py   # TF-IDF + cosine similarity
‚îÇ
‚îú‚îÄ‚îÄ advanced_rag/            # –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π RAG (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û)
‚îÇ   ‚îî‚îÄ‚îÄ advanced_rag_demo.py # Query rewriting + hybrid search + reranking
‚îÇ
‚îú‚îÄ‚îÄ bm25_rag/               # BM25 Keyword Search
‚îÇ   ‚îî‚îÄ‚îÄ bm25_rag_demo.py    # –ù–∞–π—à–≤–∏–¥—à–∏–π (3.80—Å)
‚îÇ
‚îú‚îÄ‚îÄ faiss_rag/              # Facebook FAISS Vector Search
‚îÇ   ‚îî‚îÄ‚îÄ faiss_rag_demo.py   # –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å (3.88—Å, 66.6%)
‚îÇ
‚îú‚îÄ‚îÄ hybrid_rag/             # –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
‚îÇ   ‚îî‚îÄ‚îÄ hybrid_rag_demo.py  # BM25 + –≤–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ (RRF)
‚îÇ
‚îî‚îÄ‚îÄ corrective_rag/         # –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
    ‚îî‚îÄ‚îÄ corrective_rag_demo.py # 3 —ñ—Ç–µ—Ä–∞—Ü—ñ—ó + –≤–µ–± fallback
```

### üìÅ –î–∞–Ω—ñ —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

```
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ test_queries_unified.json        # –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –¥–∞—Ç–∞—Å–µ—Ç (100 –∑–∞–ø–∏—Ç—ñ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ test_queries.json                # –ë–∞–∑–æ–≤–∏–π –¥–∞—Ç–∞—Å–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ test_queries_with_ground_truth.json  # –ó –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ pdfs/                            # –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è PDF –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
‚îÇ
‚îî‚îÄ‚îÄ results/
    ‚îú‚îÄ‚îÄ naive_rag_results.json           # Naive RAG: 20.3%, 5.28—Å
    ‚îú‚îÄ‚îÄ advanced_rag_results.json        # Advanced RAG: 71.4%, 7.39—Å ‚≠ê
    ‚îú‚îÄ‚îÄ bm25_rag_results.json           # BM25 RAG: 3.80—Å (–Ω–∞–π—à–≤–∏–¥—à–∏–π)
    ‚îú‚îÄ‚îÄ faiss_rag_results.json          # FAISS RAG: 66.6%, 3.88—Å
    ‚îú‚îÄ‚îÄ hybrid_rag_results.json         # Hybrid RAG: 56.1%, 5.57—Å
    ‚îú‚îÄ‚îÄ corrective_rag_results.json     # Corrective RAG: 21.6%, 4.35—Å
    ‚îú‚îÄ‚îÄ final_comparison_report.txt     # –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
    ‚îî‚îÄ‚îÄ ragas_comparison.json           # RAGAS –æ—Ü—ñ–Ω–∫–∏ —è–∫–æ—Å—Ç—ñ
```

### üõ† –£—Ç–∏–ª—ñ—Ç–∏ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏

```
‚îú‚îÄ‚îÄ compare_all_rag_approaches.py      # –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤—Å—ñ—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤
‚îú‚îÄ‚îÄ run_all_tests.sh                   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
‚îú‚îÄ‚îÄ run_all_demos.py                   # –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π
‚îú‚îÄ‚îÄ evaluate_all_with_ragas.py         # –û—Ü—ñ–Ω–∫–∞ —á–µ—Ä–µ–∑ RAGAS
‚îú‚îÄ‚îÄ evaluate_with_synthetic_testset.py # –°–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π –¥–∞—Ç–∞—Å–µ—Ç
‚îú‚îÄ‚îÄ generate_synthetic_testset.py      # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤
‚îî‚îÄ‚îÄ requirements.txt                   # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–æ–µ–∫—Ç—É
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

### –§—ñ–Ω–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è (50 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–º—É –¥–∞—Ç–∞—Å–µ—Ç—ñ):

| –ü—ñ–¥—Ö—ñ–¥ | –¢–æ—á–Ω—ñ—Å—Ç—å | –®–≤–∏–¥–∫—ñ—Å—Ç—å | –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è vs Naive | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è |
|--------|----------|-----------|---------------------|--------------|
| **Advanced RAG** ‚≠ê | **71.4%** | 7.39—Å | **+251%** | –ü—Ä–æ–¥–∞–∫—à–µ–Ω |
| **FAISS RAG** | **66.6%** | **3.88—Å** | +228% | –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å |
| **BM25 RAG** | N/A* | **3.80—Å** | - | –ù–∞–π—à–≤–∏–¥—à–∏–π |
| Hybrid RAG | 56.1% | 5.57—Å | +176% | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π |
| Corrective RAG | 21.6% | 4.35—Å | +6% | –°–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** |
| Naive RAG | 20.3% | 5.28—Å | baseline | –ë–∞–∑–æ–≤–∏–π |

\* BM25 –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ–Ω—à—É —à–∫–∞–ª—É –æ—Ü—ñ–Ω–æ–∫ (keyword-based)  
\** 86% –∑–∞–ø–∏—Ç—ñ–≤ –ø–æ—Ç—Ä–µ–±—É–≤–∞–ª–∏ –≤–µ–± –ø–æ—à—É–∫—É

### –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏:

1. **Advanced RAG - –ª—ñ–¥–µ—Ä –∑–∞ —Ç–æ—á–Ω—ñ—Å—Ç—é**
   - 71.4% —Ç–æ—á–Ω–æ—Å—Ç—ñ (–≤ 3.5 —Ä–∞–∑–∏ –∫—Ä–∞—â–µ –∑–∞ Naive RAG)
   - Query rewriting –ø–æ–∫—Ä–∞—â—É—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∑–∞–ø–∏—Ç—É
   - Reranking –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤—É—î –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏
   - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

2. **FAISS RAG - –Ω–∞–π–∫—Ä–∞—â–∏–π –±–∞–ª–∞–Ω—Å**
   - –ù–∞ 47% —à–≤–∏–¥—à–µ –∑–∞ Advanced RAG
   - –õ–∏—à–µ –Ω–∞ 5% –Ω–∏–∂—á–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–µ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —à–≤–∏–¥–∫—ñ—Å—Ç—å/—è–∫—ñ—Å—Ç—å
   - –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è real-time –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤

3. **BM25 RAG - –Ω–∞–π—à–≤–∏–¥—à–∏–π**
   - 3.80—Å - –∞–±—Å–æ–ª—é—Ç–Ω–∏–π —Ä–µ–∫–æ—Ä–¥ —à–≤–∏–¥–∫–æ—Å—Ç—ñ
   - Keyword-based, –±–µ–∑ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - –í—ñ–¥–º—ñ–Ω–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

4. **Corrective RAG - –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**
   - –ù–∞–π–Ω–∏–∂—á–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å (21.6%)
   - 86% –∑–∞–ø–∏—Ç—ñ–≤ –ø–æ—Ç—Ä–µ–±—É–≤–∞–ª–∏ –≤–µ–± –ø–æ—à—É–∫—É
   - –õ–æ–∫–∞–ª—å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
   - –ü–æ—Ç—Ä–µ–±—É—î –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ API

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

–û—Å–Ω–æ–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
- `numpy` - –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- `scikit-learn` - TF-IDF, cosine similarity
- `pymupdf` - –ø–∞—Ä—Å–∏–Ω–≥ PDF
- `requests` - HTTP –∑–∞–ø–∏—Ç–∏
- `faiss-cpu` - –≤–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### 2. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö

–ü–æ–º—ñ—Å—Ç—ñ—Ç—å –≤–∞—à—ñ PDF —Ñ–∞–π–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `data/pdfs/`:

```bash
# –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
data/pdfs/
‚îú‚îÄ‚îÄ research_paper_1.pdf
‚îú‚îÄ‚îÄ research_paper_2.pdf
‚îî‚îÄ‚îÄ documentation.pdf
```

### 3. –ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–æ—ó –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å OpenAI API –∫–ª—é—á
export OPENAI_API_KEY="your-api-key-here"

# Advanced RAG (–Ω–∞–π–∫—Ä–∞—â–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å)
python advanced_rag/advanced_rag_demo.py

# FAISS RAG (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å)
python faiss_rag/faiss_rag_demo.py

# BM25 RAG (–Ω–∞–π—à–≤–∏–¥—à–∏–π)
python bm25_rag/bm25_rag_demo.py
```

### 4. –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤

```bash
export OPENAI_API_KEY="your-api-key-here"
./run_all_tests.sh
```

–¢–µ—Å—Ç–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `results/`.

### 5. –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

```bash
# –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
cat results/final_comparison_report.txt

# –û–∫—Ä–µ–º—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
cat results/advanced_rag_results.json | python -m json.tool | less
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **`README_EVALUATION.md`** - –ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è
- **`RAG_EVALUATION_GUIDE.md`** - –ü–æ—Å—ñ–±–Ω–∏–∫ –∑ –æ—Ü—ñ–Ω–∫–∏ RAG —Å–∏—Å—Ç–µ–º
- **`results/final_comparison_report.txt`** - –ü–æ–≤–Ω–∏–π –∑–≤—ñ—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤

- **–î–∞—Ç–∞—Å–µ—Ç:** 50 –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤
- **–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:** definition, technical, approaches, evaluation, challenges, implementation, comparison, optimization
- **Chunk size:** 500-1000 —Å–∏–º–≤–æ–ª—ñ–≤
- **Chunk overlap:** 100-200 —Å–∏–º–≤–æ–ª—ñ–≤
- **Top-k:** 3-5 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- **LLM:** OpenAI gpt-4o-mini (fallback: Ollama llama3.2)
- **Embedding:** TF-IDF (baseline), Sentence Transformers, FAISS (–≤–µ–∫—Ç–æ—Ä–Ω–∏–π)

### –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É –≤–∏–º—ñ—Ä—é—î—Ç—å—Å—è:
- **–¢–æ—á–Ω—ñ—Å—Ç—å** - cosine similarity –º—ñ–∂ –∑–∞–ø–∏—Ç–æ–º —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é
- **–®–≤–∏–¥–∫—ñ—Å—Ç—å** - —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É (—Å–µ–∫—É–Ω–¥–∏)
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å** - —è–∫—ñ—Å—Ç—å –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- **–ü–æ–≤–Ω–æ—Ç–∞** - —á–∏ –º—ñ—Å—Ç–∏—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é

RAGAS –º–µ—Ç—Ä–∏–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):
- Faithfulness - —Ñ–∞–∫—Ç–∏—á–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å
- Answer Relevancy - —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- Context Precision - —Ç–æ—á–Ω—ñ—Å—Ç—å –ø–æ—à—É–∫—É
- Context Recall - –ø–æ–≤–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑–∞ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω (–≤–∏—Å–æ–∫–∞ —è–∫—ñ—Å—Ç—å)
**‚Üí Advanced RAG**
- –¢–æ—á–Ω—ñ—Å—Ç—å: 71.4% (+251% vs Naive)
- Query rewriting + hybrid search + reranking
- –ß–∞—Å: 7.39—Å (–ø—Ä–∏–π–Ω—è—Ç–Ω–æ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤)

### Real-time (—à–≤–∏–¥–∫—ñ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞)
**‚Üí FAISS RAG –∞–±–æ BM25 RAG**
- FAISS: 3.88—Å + 66.6% —Ç–æ—á–Ω—ñ—Å—Ç—å
- BM25: 3.80—Å (–Ω–∞–π—à–≤–∏–¥—à–∏–π)
- –î–ª—è low-latency API (<5 —Å–µ–∫—É–Ω–¥)

### –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å
**‚Üí FAISS RAG**
- –ù–∞ 47% —à–≤–∏–¥—à–µ –∑–∞ Advanced
- –õ–∏—à–µ –Ω–∞ 5% –Ω–∏–∂—á–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å
- –ù–∞–π–∫—Ä–∞—â–µ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —Ü—ñ–Ω–∞/—è–∫—ñ—Å—Ç—å

### –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å–∏—Å—Ç–µ–º–∏
**‚Üí Corrective RAG** (–∑ –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é)
- –°–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ (3 —ñ—Ç–µ—Ä–∞—Ü—ñ—ó)
- –í–µ–± fallback –ø—Ä–∏ –Ω–∏–∑—å–∫—ñ–π —è–∫–æ—Å—Ç—ñ
- –£–í–ê–ì–ê: –ø–æ—Ç—Ä–µ–±—É—î –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Ö –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

## –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∫—É—Ä—Å—É

### –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è:

1. **–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**
   - –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ —Ñ–∞–π–ª–∏ `results/*_results.json`
   - –ó–Ω–∞–π–¥—ñ—Ç—å –∑–∞–ø–∏—Ç–∏, –¥–µ Advanced RAG –ø—Ä–∞—Ü—é—î –∫—Ä–∞—â–µ –∑–∞ —ñ–Ω—à—ñ
   - –í–∏–∑–Ω–∞—á—Ç–µ –ø–∞—Ç–µ—Ä–Ω–∏ –ø–æ–º–∏–ª–æ–∫ —É Naive RAG

2. **–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏**
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏ –Ω–∞ –≤–∞—à–∏—Ö PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
   - –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑ –Ω–∞—à–∏–º–∏
   - –°–ø—Ä–æ–±—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (chunk_size, top_k)

3. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**
   - –ü–æ–∫—Ä–∞—â—ñ—Ç—å Naive RAG –¥–æ–¥–∞–≤—à–∏ query rewriting
   - –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–π—Ç–µ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ BM25 (k1, b)
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Hybrid RAG alpha –ø–∞—Ä–∞–º–µ—Ç—Ä

4. **RAGAS Evaluation**
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å `evaluate_all_with_ragas.py`
   - –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ faithfulness —Ç–∞ context precision
   - –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –∑ –Ω–∞—à–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∫—Ä–æ–∫–∏:

1. –í–∏–≤—á–∏—Ç–∏ –∫–æ–¥ –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π Naive RAG
3. –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ Advanced RAG
4. –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –∑ FAISS —Ç–∞ BM25
5. –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –∑ Multimodal RAG
6. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ RAGAS

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Python 3.12+**
- **NumPy** - –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- **scikit-learn** - TF-IDF, –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- **PyMuPDF (fitz)** - –ø–∞—Ä—Å–∏–Ω–≥ PDF
- **FAISS** - –≤–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ (Facebook AI)
- **OpenAI API** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (gpt-4o-mini)
- **Ollama** - –ª–æ–∫–∞–ª—å–Ω–∞ LLM (fallback)

## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ —Ç–µ—Å—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ –Ω–∞:
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Mac M4, 16GB RAM (+Ollama llama3.2)
- **–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å:** ~25 —Ö–≤–∏–ª–∏–Ω
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤:** 300 (6 –ø—ñ–¥—Ö–æ–¥—ñ–≤ √ó 50 –∑–∞–ø–∏—Ç—ñ–≤)
- **LLM:** OpenAI gpt-4o-mini (—á–µ—Ä–µ–∑ –µ–∫—Å–ø–æ—Ä—Ç OpenAI API –∫–ª—é—á–∞)
- **–î–æ–∫—É–º–µ–Ω—Ç–∏:** 50 PDF —Ñ–∞–π–ª—ñ–≤, 8,000-9,000 —á–∞–Ω–∫—ñ–≤

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ù–∞–≤—á–∞–ª—å–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª –¥–ª—è –∫—É—Ä—Å—É AI.Agents.PRO 2025.  
–í—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –æ—Å–≤—ñ—Ç–Ω—ñ—Ö —Ü—ñ–ª—è—Ö.

## –ö–æ–Ω—Ç–∞–∫—Ç–∏

**–ö—É—Ä—Å:** ai.agents.pro  
**–ú–æ–¥—É–ª—å:** 2 - Retrieval-Augmented Generation  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:** https://github.com/agentspro/module2

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** 
–í—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `results/`. 
–î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —É —Ñ–∞–π–ª—ñ `results/final_comparison_report.txt`.
